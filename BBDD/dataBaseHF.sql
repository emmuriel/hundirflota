
CREATE DATABASE `HundirFlota`;
USE `HundirFlota`;

CREATE TABLE IF NOT EXISTS `HF_usuario` (
`codUsu` int(3) NOT NULL AUTO_INCREMENT COMMENT 'Clave primaria',
`usuario` varchar(35) NOT NULL COMMENT 'nombre usuario',
`pwd` char(64) NOT NULL COMMENT 'hash contraseña sha256',
`victorias` int(4) NOT NULL COMMENT 'partidas ganadas',
`estado` int(1) NOT NULL COMMENT '0=no conectado, 1=conectado sin partida, 2=conectado en partida',
`conexiones` int(3) NOT NULL DEFAULT 0 COMMENT 'total de sesiones iniciadas',
  PRIMARY KEY (`codUsu`),
  UNIQUE KEY `usuario` (`usuario`)
)ENGINE=InnoDB DEFAULT CHARSET=latin1 COMMENT='tabla de usuarios';


CREATE TABLE IF NOT EXISTS `HF_partidaBoot` ( 
`codUsu` int(3) NOT NULL,
`tablero1` char(100) NOT NULL Comment 'Tablero Usuario',
`tablero2` char(100) NOT NULL COMMENT 'Tablero Boot',
`turno` bit(1) NOT NULL,
	FOREIGN KEY (`codUsu`) references `HF_usuario` (`codUsu`) ON UPDATE NO ACTION ON DELETE CASCADE
)ENGINE=InnoDB DEFAULT CHARSET=latin1 COMMENT='tabla de partidas';


CREATE TABLE IF NOT EXISTS `HF_tablero` (
`codTablero` int(3) NOT NULL AUTO_INCREMENT COMMENT 'Clave primaria',
`tablero` char(100) NOT NULL COMMENT 'cadenas tableros boot',

  PRIMARY KEY (`codTablero`),
  UNIQUE KEY  `tablero`(`tablero`)
)ENGINE=InnoDB DEFAULT CHARSET=latin1 COMMENT='cadena de tableros';

--hay que modificar las contraseñas en planoi por los hashes
INSERT INTO `HF_usuario`(`estado`,`usuario`,`pwd`,`victorias`) VALUES   (0,'Eli','Eli',389),
																(1,'Juanito','Traga',100),
																(0,'JJ','JJ',99),
																(1,'Eze','kiel',200),
																(0,'Loco','loco',200);

																

INSERT INTO `HF_tablero` (`tablero`) VALUES  ('W111E000000000000000WE0000000000000000000000000000N00000000020000N000020N00S00N02020000020S0S00000S0'),
										('000000000000N000000000200W1E00002000000000S0W111E000000000000W1E0000N000000000S000000000000WE0000000'),
										('00000000N0000WE0002000000000S00WE00000000000N00000000020W11EW1E020000000002000000000S000000000000000'),
										('00000000000000W1E00000000000000000W11E0000N000000N00S0000002000000000S00000000000N0W111E000S00000000'),
										('000000000N000W1E0002000000000200000000020000WE000S0000000000N000000000200WE000002000000W1ES000000000'),
										('00000WE000000000000000000000000000000000W111E00000000000000000000W11E0N0N000000020S0000000S0000W1E00'),
										('0000000000000000000000N0N000000020S00000002000WE00020N0000000S0200W1E0000S00000000000W11E00000000000'),
										('00000000N000N000002000200WE020N0200000S02020000000S0S0000000000000000000W1E00000N000000000S000000000'),
										('000WE0W1E0000000000000000000000000WE0000N000000N00200000020020000N0200S00002020000000S0S000000000000'),
										('0WE00000N0000000002000W111E0S00000000000000W11E0000000000000000000000000N000000000200WE00000S0000000'),
										('000000000N000W1E00020000000002000000000200000WE00S00000000000N00N000N00S0020002000002000S00000S00000'),
										('0000000000000000N00000000020000WE0N0200000002020000N0020S0000200S000000S00000WE0000W1E00000000000000'),
										('000W111E000N000000000S0W1E0000000000000000000000N00N000000200S0000002000000000S00000W1E0000000000000'),
										('0N00000N000200000200020WE00S000200000000000N0000N00N020000200S0S000020000000002000000000S00000000000'),
										('0W1E0000000000000000000W111E000000000000000N0000N00N0S0000200S000000S0000000000000000000000000W11E00'),
										('0W1E00W11E000000000000000W1E000000000000000N000000000S0000000000000000000000000N000000000S00W111E000'),
										('0N0W1E00000S00000000000W11E0000N0000000N02000000020S000000020000000002000000000S0N000000000S00000000'),
										('0N00000N000S0000020000000002000W111E0S0000000000000000000N0000000002000N00000S0N0S00000002000000000S'),
										('00000000000WE00000000000W11E00N0000000002000000WE020000000002000000000S0W1E00000000000000000W1E00000');